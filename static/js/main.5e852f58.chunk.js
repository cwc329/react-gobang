(this["webpackJsonpreact-gobang"]=this["webpackJsonpreact-gobang"]||[]).push([[0],{22:function(n,t,e){},23:function(n,t,e){},26:function(n,t,e){"use strict";e.r(t);var r=e(1),i=e(0),o=e.n(i),a=e(12),c=e.n(a),u=(e(22),e(16)),d=e(4),l=e(6),b=e(2),s=(e(23),e(3));function x(){var n=Object(b.a)(["\n  width: 40px;\n  height: 40px;\n  display: inline-block;\n  box-sizing: border-box;\n  border: 2px solid black;\n"]);return x=function(){return n},n}function f(){var n=Object(b.a)(["\n  width: 30px;\n  height: 30px;\n  margin: 5px;\n  display: inline-block;\n  box-sizing: border-box;\n  border-radius: 50%;\n  background: ",";\n  cursor: pointer;\n"]);return f=function(){return n},n}function j(){var n=Object(b.a)(["\n  width: 720px;\n  height: 720px;\n  margin: 0 auto;\n  position: absolute;\n  border: 0.5px solid black;\n  left: 30px;\n  top 30px;\n"]);return j=function(){return n},n}function p(){var n=Object(b.a)(["\n  width: 760px;\n  height: 760px;\n  margin: 0 auto;\n  position: absolute;\n  left: 10px;\n  top 10px;\n"]);return p=function(){return n},n}function h(){var n=Object(b.a)(["\n  width: 780px;\n  height: 780px;\n  position: relative;\n  background: #965a35;\n  margin: 0 auto;\n  border: 2px solid black;\n"]);return h=function(){return n},n}for(var g=s.a.div(h()),O=s.a.div(p()),v=s.a.div(j()),y=s.a.div(f(),(function(n){return n.kiColor})),k=s.a.div(x()),w=[],m=0;m<18;m++){w.push([]);for(var C=0;C<18;C++)w[m].push([C,m])}function P(n){var t=n.ki,e=n.handlers,o=Object(i.useState)(w),a=Object(l.a)(o,1)[0];return Object(r.jsx)("div",{children:Object(r.jsxs)(g,{children:[Object(r.jsx)(v,{children:a.map((function(n){return n.map((function(n){return Object(r.jsx)(k,{children:"\xa0"},100*n[0]+n[1])}))}))}),Object(r.jsx)(O,{children:t.map((function(n){return n.map((function(n){return Object(r.jsx)(y,{kiColor:n.kiColor,"data-x":n.x,"data-y":n.y,onClick:e.placeKi,children:"\xa0"},100*n.x+n.y)}))}))})]})})}function S(){var n=Object(b.a)(["\n  border: 1px solid black;\n  margin: 0;\n"]);return S=function(){return n},n}function E(){var n=Object(b.a)(["\n  max-width: 1920px;\n"]);return E=function(){return n},n}for(var F=s.a.div(E()),N=Object(s.a)(y)(S()),z=[],B=0;B<19;B++){z[B]=[];for(var I=0;I<19;I++)z[B][I]={x:I,y:B,kiColor:"",counter:1}}var J=function(){console.log("render");var n=Object(i.useState)(z),t=Object(l.a)(n,2),e=t[0],o=t[1],a=Object(i.useState)({playing:"black",order:1,winner:"",records:[]}),c=Object(l.a)(a,2),b=c[0],s=c[1],x={placeKi:function(n){var t=Number(n.target.attributes["data-x"].value),r=Number(n.target.attributes["data-y"].value);b.winner||e[r][t].kiColor||(o(e.map((function(n){return n.map((function(n){return n.x===t&&n.y===r?Object(d.a)(Object(d.a)({},n),{},{kiColor:b.playing}):n}))}))),s(Object(d.a)(Object(d.a)({},b),{},{playing:"black"===b.playing?"white":"black",order:b.order+1,records:[].concat(Object(u.a)(b.records),[{order:b.order,x:t,y:r,color:b.playing}])})))},whoWin:function(n,t){for(var r=e[t][n].kiColor,i=0,o=[{startPoint:{x:n,y:t-4},dx:0,dy:1},{startPoint:{x:n-4,y:t},dx:1,dy:0},{startPoint:{x:n-4,y:t-4},dx:1,dy:1},{startPoint:{x:n-4,y:t+4},dx:1,dy:-1}];i<o.length;i++)for(var a=o[i],c=a.startPoint.x,u=a.startPoint.y,l=0,x=0;x<5;x++)if(void 0!==e[u]&&void 0!==e[u][c]&&e[u][c].kiColor===r){l=1;for(var f=c+a.dx,j=u+a.dy,p=0;p<4;p++)if(void 0!==e[j]&&void 0!==e[j][f]&&e[j][f].kiColor===r){if(l+=1,f+=a.dx,j+=a.dy,5===l)return s(Object(d.a)(Object(d.a)({},b),{},{winner:r}))}else l=0}else l=0,c+=a.dx,u+=a.dy}};return Object(i.useEffect)((function(){var n=b.records;if(361===n.length)s(Object(d.a)(Object(d.a)({},b),{},{winner:"draw"}));else if(0!==n.length){console.log("deciding");var t=n[n.length-1],e=t.x,r=t.y;console.log({x:e,y:r}),x.whoWin(e,r)}console.log("useEffect",b)}),[e]),Object(i.useEffect)((function(){b.winner&&alert("black"===b.winner?"\u9ed1\u5b50\u52dd":"white"===b.winner?"\u767d\u5b50\u52dd":"\u5e73\u624b")}),[b.winner]),Object(r.jsxs)(F,{className:"App",children:[Object(r.jsx)("h1",{children:"\u5c0f\u904a\u6232-\u4e94\u5b50\u68cb"}),Object(r.jsxs)("h3",{children:["Now Playing: ",Object(r.jsx)("span",{children:Object(r.jsx)(N,{kiColor:b.playing})})]}),Object(r.jsx)(P,{ki:e,handlers:x})]})},K=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,27)).then((function(t){var e=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;e(n),r(n),i(n),o(n),a(n)}))};c.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(J,{})}),document.getElementById("root")),K()}},[[26,1,2]]]);
//# sourceMappingURL=main.5e852f58.chunk.js.map